import{e as g,o as v,p as I,j as e,g as o}from"./index-C5jh94nG.js";import{B as l}from"./badge-Bh0Nq2kD.js";import{M as u}from"./mastery-bar-D8IrpK3L.js";import{C as w}from"./clock-DhPiiBGX.js";const y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],h=g("arrow-right",y);const P=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z=g("compass",P),M=["fretboardToNote","playNotes"],L=4;function p(r,d){return Array.from(new Set(r)).slice(0,d)}const T=v()(I((r,d)=>({pinnedIds:M,maxPins:L,isPinned:s=>d().pinnedIds.includes(s),togglePinned:s=>r(n=>n.pinnedIds.includes(s)?{pinnedIds:n.pinnedIds.filter(i=>i!==s)}:{pinnedIds:p([...n.pinnedIds,s],n.maxPins)}),pin:s=>r(n=>({pinnedIds:p([...n.pinnedIds,s],n.maxPins)})),unpin:s=>r(n=>({pinnedIds:n.pinnedIds.filter(a=>a!==s)})),movePinned:(s,n)=>r(a=>{const i=a.pinnedIds.indexOf(s);if(i<0)return{};const t=[...a.pinnedIds];t.splice(i,1);const m=Math.max(0,Math.min(t.length,Math.round(n)));return t.splice(m,0,s),{pinnedIds:t}})}),{name:"fretmemo-pinned-v1",partialize:r=>({pinnedIds:r.pinnedIds,maxPins:r.maxPins}),merge:(r,d)=>{const s=r??{},n=s.maxPins??d.maxPins,a=Array.isArray(s.pinnedIds)?p(s.pinnedIds,n):d.pinnedIds;return{...d,...s,maxPins:n,pinnedIds:a}}})),b={beginner:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-300 dark:border-emerald-500/30",intermediate:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-500/20 dark:text-amber-300 dark:border-amber-500/30",advanced:"bg-secondary text-secondary-foreground border-border"};function D({title:r,description:d,mastery:s,lastPracticedLabel:n,difficulty:a,icon:i,onClick:t,className:m,variant:f="standard",isNew:j=!1}){const c=t?"button":"div",x=Math.max(0,Math.min(100,Math.round(s))),N=j?"New":`${x}%`;return f==="catalog"?e.jsxs(c,{type:t?"button":void 0,className:o("group w-full rounded-xl border border-border bg-card p-2.5 text-left transition hover:border-border/80 hover:shadow-sm active:scale-[0.99] min-[390px]:p-3 min-[412px]:p-3.5",t&&"cursor-pointer",m),onClick:t,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex min-w-0 items-start gap-1.5 min-[390px]:gap-2",children:[i&&e.jsx("div",{className:"mt-0.5 rounded-md bg-muted p-1.5 text-muted-foreground",children:e.jsx(i,{className:"h-3 w-3 min-[390px]:h-3.5 min-[390px]:w-3.5"})}),e.jsx("h3",{className:"text-[13px] font-semibold leading-tight text-card-foreground break-words min-[390px]:text-sm min-[412px]:text-[15px]",children:r})]}),t&&e.jsx(h,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform group-hover:translate-x-0.5"})]}),e.jsx("div",{className:"mt-1.5 min-[390px]:mt-2",children:e.jsx(l,{variant:"outline",className:o("h-5 px-1.5 text-[9px] capitalize min-[390px]:px-2 min-[390px]:text-[10px]",b[a]),children:a})}),e.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 min-[390px]:mt-2 min-[390px]:gap-2",children:[e.jsx(u,{value:x,showLabel:!1,className:"flex-1"}),e.jsx("span",{className:"w-8 shrink-0 text-right text-[11px] font-semibold text-muted-foreground min-[390px]:w-9 min-[390px]:text-xs",children:N})]})]}):e.jsxs(c,{type:t?"button":void 0,className:o("w-full rounded-xl border border-border bg-card p-4 text-left transition hover:border-border/80 hover:shadow-sm",t&&"cursor-pointer",m),onClick:t,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[i&&e.jsx("div",{className:"mt-0.5 rounded-lg bg-muted p-2 text-muted-foreground",children:e.jsx(i,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-card-foreground",children:r}),d&&e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:d})]})]}),e.jsx(l,{variant:"outline",className:o("capitalize",b[a]),children:a})]}),e.jsx("div",{className:"mt-3",children:e.jsx(u,{value:x})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-muted-foreground",children:[n?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Last: ",n]})]}):e.jsx("span",{}),t&&e.jsx(h,{className:"h-4 w-4"})]})]})}export{h as A,z as C,D as E,T as u};
